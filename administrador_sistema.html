<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configurações do Sistema - VidaPlus</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-heartbeat"></i>
                    VidaPlus
                </div>
            </div>
            <div class="nav-menu">
                <a href="prototipo_dashboard_administrador.html" class="nav-item">
                    <i class="fas fa-home"></i>
                    Início
                </a>
                <a href="administrador_usuarios.html" class="nav-item">
                    <i class="fas fa-users-cog"></i>
                    Usuários
                </a>
                <a href="administrador_consultas.html" class="nav-item">
                    <i class="fas fa-calendar-alt"></i>
                    Consultas
                </a>
                <a href="administrador_financeiro.html" class="nav-item">
                    <i class="fas fa-chart-line"></i>
                    Financeiro
                </a>
                <a href="administrador_relatorios.html" class="nav-item">
                    <i class="fas fa-file-alt"></i>
                    Relatórios
                </a>
                <a href="administrador_sistema.html" class="nav-item active">
                    <i class="fas fa-cogs"></i>
                    Sistema
                </a>
                <a href="administrador_perfil.html" class="nav-item">
                    <i class="fas fa-user"></i>
                    Perfil
                </a>
                <a href="#" class="nav-item logout-link">
                    <i class="fas fa-sign-out-alt"></i>
                    Sair
                </a>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="page-header">
                <div class="page-title">
                    <h1>Configurações do Sistema</h1>
                    <p>Gerencie configurações gerais, segurança e manutenção da plataforma</p>
                </div>
                <div class="user-profile">
                    <div class="profile-avatar">AS</div>
                    <div class="profile-info">
                        <h3>Ana Santos</h3>
                        <p>Administrador do Sistema</p>
                    </div>
                </div>
            </header>

            <div class="breadcrumb">
                <a href="prototipo_dashboard_administrador.html">Início</a>
                <span class="breadcrumb-separator">></span>
                <span>Sistema</span>
            </div>

            <!-- Status do Sistema -->
            <div class="grid grid-4">
                <div class="status-card online">
                    <div class="status-icon">
                        <i class="fas fa-server"></i>
                    </div>
                    <div class="status-info">
                        <h3>Sistema Online</h3>
                        <p>Funcionando normalmente</p>
                        <span class="uptime">Uptime: 99.9%</span>
                    </div>
                </div>
                <div class="status-card">
                    <div class="status-icon">
                        <i class="fas fa-database"></i>
                    </div>
                    <div class="status-info">
                        <h3>Banco de Dados</h3>
                        <p>Conectado e estável</p>
                        <span class="uptime">Último backup: 2h atrás</span>
                    </div>
                </div>
                <div class="status-card">
                    <div class="status-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <div class="status-info">
                        <h3>Segurança</h3>
                        <p>Todos os sistemas seguros</p>
                        <span class="uptime">Última verificação: 1h atrás</span>
                    </div>
                </div>
                <div class="status-card">
                    <div class="status-icon">
                        <i class="fas fa-cloud"></i>
                    </div>
                    <div class="status-info">
                        <h3>Armazenamento</h3>
                        <p>75% utilizado</p>
                        <span class="uptime">2.5TB disponível</span>
                    </div>
                </div>
            </div>

            <!-- Configurações Gerais -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Configurações Gerais</h3>
                </div>
                <form class="settings-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="siteName">Nome da Plataforma</label>
                            <input type="text" id="siteName" value="VidaPlus - Sistema de Gestão Hospitalar">
                        </div>
                        <div class="form-group">
                            <label for="siteUrl">URL Principal</label>
                            <input type="url" id="siteUrl" value="https://vidaplus.com.br">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="timezone">Fuso Horário</label>
                            <select id="timezone">
                                <option value="America/Sao_Paulo" selected>América/São Paulo (UTC-3)</option>
                                <option value="America/Manaus">América/Manaus (UTC-4)</option>
                                <option value="America/Rio_Branco">América/Rio Branco (UTC-5)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="language">Idioma Padrão</label>
                            <select id="language">
                                <option value="pt-BR" selected>Português (Brasil)</option>
                                <option value="en-US">English (US)</option>
                                <option value="es-ES">Español</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="maintenanceMode">Modo de Manutenção</label>
                        <label class="toggle-switch">
                            <input type="checkbox" id="maintenanceMode">
                            <span class="slider"></span>
                        </label>
                        <small>Ativar para bloquear acesso de usuários durante manutenção</small>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Salvar Configurações</button>
                    </div>
                </form>
            </div>

            <!-- Configurações de Segurança -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Configurações de Segurança</h3>
                </div>
                <div class="security-settings">
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Autenticação de Dois Fatores</h4>
                            <p>Exigir 2FA para todos os administradores</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Sessões Simultâneas</h4>
                            <p>Permitir múltiplas sessões por usuário</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Log de Auditoria</h4>
                            <p>Registrar todas as ações dos usuários</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <div class="setting-info">
                            <h4>Bloqueio por Tentativas</h4>
                            <p>Bloquear conta após 5 tentativas de login incorretas</p>
                        </div>
                        <label class="toggle-switch">
                            <input type="checkbox" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <!-- Backup e Manutenção -->
            <div class="grid grid-2">
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Backup e Recuperação</h3>
                    </div>
                    <div class="backup-info">
                        <div class="backup-status">
                            <div class="backup-item">
                                <span class="backup-label">Último Backup:</span>
                                <span class="backup-value">15/07/2025 - 02:00</span>
                            </div>
                            <div class="backup-item">
                                <span class="backup-label">Próximo Backup:</span>
                                <span class="backup-value">16/07/2025 - 02:00</span>
                            </div>
                            <div class="backup-item">
                                <span class="backup-label">Tamanho do Backup:</span>
                                <span class="backup-value">2.3 GB</span>
                            </div>
                            <div class="backup-item">
                                <span class="backup-label">Retenção:</span>
                                <span class="backup-value">30 dias</span>
                            </div>
                        </div>
                        <div class="backup-actions">
                            <button class="btn btn-primary" onclick="executarBackup()">
                                <i class="fas fa-save"></i>
                                Backup Manual
                            </button>
                            <button class="btn btn-secondary" onclick="configurarBackup()">
                                <i class="fas fa-cog"></i>
                                Configurar
                            </button>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Manutenção do Sistema</h3>
                    </div>
                    <div class="maintenance-actions">
                        <button class="btn btn-warning" onclick="limparCache()">
                            <i class="fas fa-broom"></i>
                            Limpar Cache
                        </button>
                        <button class="btn btn-info" onclick="otimizarBanco()">
                            <i class="fas fa-database"></i>
                            Otimizar BD
                        </button>
                        <button class="btn btn-success" onclick="verificarIntegridade()">
                            <i class="fas fa-check-circle"></i>
                            Verificar Integridade
                        </button>
                        <button class="btn btn-secondary" onclick="atualizarSistema()">
                            <i class="fas fa-download"></i>
                            Atualizar Sistema
                        </button>
                    </div>
                </div>
            </div>

            <!-- Logs do Sistema -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Logs do Sistema</h3>
                    <div class="log-controls">
                        <select class="form-select" onchange="filtrarLogs(this.value)">
                            <option value="todos">Todos os logs</option>
                            <option value="erro">Erros</option>
                            <option value="aviso">Avisos</option>
                            <option value="info">Informações</option>
                        </select>
                        <button class="btn btn-secondary" onclick="exportarLogs()">
                            <i class="fas fa-download"></i>
                            Exportar
                        </button>
                    </div>
                </div>
                <div class="logs-container">
                    <div class="log-entry error">
                        <span class="log-time">[15/07/2025 14:32:15]</span>
                        <span class="log-level">ERROR</span>
                        <span class="log-message">Falha na conexão com o serviço de e-mail SMTP</span>
                    </div>
                    <div class="log-entry warning">
                        <span class="log-time">[15/07/2025 12:15:30]</span>
                        <span class="log-level">WARNING</span>
                        <span class="log-message">Uso de CPU acima de 80% por mais de 5 minutos</span>
                    </div>
                    <div class="log-entry info">
                        <span class="log-time">[15/07/2025 10:00:00]</span>
                        <span class="log-level">INFO</span>
                        <span class="log-message">Backup automático executado com sucesso</span>
                    </div>
                    <div class="log-entry info">
                        <span class="log-time">[15/07/2025 08:30:45]</span>
                        <span class="log-level">INFO</span>
                        <span class="log-message">Sistema iniciado com sucesso</span>
                    </div>
                    <div class="log-entry warning">
                        <span class="log-time">[14/07/2025 23:45:12]</span>
                        <span class="log-level">WARNING</span>
                        <span class="log-message">Tentativa de login com credenciais inválidas (IP: 192.168.1.100)</span>
                    </div>
                </div>
            </div>

            <!-- Integrações -->
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">Integrações Externas</h3>
                </div>
                <div class="integrations-grid">
                    <div class="integration-item active">
                        <div class="integration-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="integration-info">
                            <h4>Serviço de E-mail</h4>
                            <p>SMTP configurado e funcionando</p>
                        </div>
                        <div class="integration-status">
                            <span class="badge badge-success">Ativo</span>
                        </div>
                        <div class="integration-actions">
                            <button class="btn btn-secondary" onclick="configurarIntegracao('email')">Configurar</button>
                        </div>
                    </div>

                    <div class="integration-item active">
                        <div class="integration-icon">
                            <i class="fas fa-credit-card"></i>
                        </div>
                        <div class="integration-info">
                            <h4>Gateway de Pagamento</h4>
                            <p>Stripe integrado para pagamentos</p>
                        </div>
                        <div class="integration-status">
                            <span class="badge badge-success">Ativo</span>
                        </div>
                        <div class="integration-actions">
                            <button class="btn btn-secondary" onclick="configurarIntegracao('pagamento')">Configurar</button>
                        </div>
                    </div>

                    <div class="integration-item">
                        <div class="integration-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="integration-info">
                            <h4>SMS</h4>
                            <p>Serviço de SMS não configurado</p>
                        </div>
                        <div class="integration-status">
                            <span class="badge badge-warning">Inativo</span>
                        </div>
                        <div class="integration-actions">
                            <button class="btn btn-primary" onclick="configurarIntegracao('sms')">Configurar</button>
                        </div>
                    </div>

                    <div class="integration-item">
                        <div class="integration-icon">
                            <i class="fas fa-cloud"></i>
                        </div>
                        <div class="integration-info">
                            <h4>Armazenamento em Nuvem</h4>
                            <p>AWS S3 não configurado</p>
                        </div>
                        <div class="integration-status">
                            <span class="badge badge-warning">Inativo</span>
                        </div>
                        <div class="integration-actions">
                            <button class="btn btn-primary" onclick="configurarIntegracao('cloud')">Configurar</button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="js/navigation.js"></script>
    <script>
        function executarBackup() {
            navigation.showNotification('Iniciando backup manual...', 'info');
            setTimeout(() => {
                navigation.showNotification('Backup executado com sucesso!', 'success');
            }, 3000);
        }

        function configurarBackup() {
            navigation.navigateTo('administrador_configurar_backup.html');
        }

        function limparCache() {
            navigation.confirmAction('Limpar todo o cache do sistema?', () => {
                navigation.showNotification('Cache limpo com sucesso!', 'success');
            });
        }

        function otimizarBanco() {
            navigation.showNotification('Otimizando banco de dados...', 'info');
            setTimeout(() => {
                navigation.showNotification('Banco de dados otimizado!', 'success');
            }, 5000);
        }

        function verificarIntegridade() {
            navigation.showNotification('Verificando integridade do sistema...', 'info');
            setTimeout(() => {
                navigation.showNotification('Verificação concluída. Sistema íntegro!', 'success');
            }, 4000);
        }

        function atualizarSistema() {
            navigation.confirmAction('Atualizar o sistema? Esta operação pode levar alguns minutos.', () => {
                navigation.showNotification('Iniciando atualização do sistema...', 'info');
            });
        }

        function filtrarLogs(tipo) {
            navigation.showNotification(`Filtrando logs por: ${tipo}`, 'info');
        }

        function exportarLogs() {
            navigation.showNotification('Exportando logs do sistema...', 'info');
            setTimeout(() => {
                navigation.showNotification('Logs exportados com sucesso!', 'success');
            }, 2000);
        }

        function configurarIntegracao(tipo) {
            navigation.navigateTo(`administrador_configurar_${tipo}.html`);
        }

        // Event listener para o formulário de configurações
        document.querySelector('.settings-form').addEventListener('submit', function(e) {
            e.preventDefault();
            navigation.showNotification('Configurações salvas com sucesso!', 'success');
        });
    </script>

    <style>
        .status-card {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: white;
            border-radius: 10px;
            border: 1px solid #E5E7EB;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }

        .status-card.online {
            border-left: 4px solid #10B981;
        }

        .status-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #2563EB 0%, #1D4ED8 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .status-card.online .status-icon {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
        }

        .status-info h3 {
            font-size: 16px;
            font-weight: 600;
            color: #1F2937;
            margin-bottom: 5px;
        }

        .status-info p {
            font-size: 14px;
            color: #6B7280;
            margin-bottom: 3px;
        }

        .uptime {
            font-size: 12px;
            color: #10B981;
            font-weight: 600;
        }

        .settings-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .form-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .form-group label {
            font-weight: 600;
            color: #374151;
            font-size: 14px;
        }

        .form-group input,
        .form-group select {
            padding: 12px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            font-size: 14px;
        }

        .form-group small {
            font-size: 12px;
            color: #6B7280;
        }

        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider {
            background-color: #2563EB;
        }

        input:checked + .slider:before {
            transform: translateX(26px);
        }

        .form-actions {
            padding-top: 20px;
            border-top: 1px solid #E5E7EB;
        }

        .security-settings {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: #F8FAFC;
            border-radius: 10px;
        }

        .setting-info h4 {
            font-size: 16px;
            font-weight: 600;
            color: #1F2937;
            margin-bottom: 5px;
        }

        .setting-info p {
            font-size: 14px;
            color: #6B7280;
        }

        .backup-info {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .backup-status {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .backup-item {
            display: flex;
            justify-content: space-between;
            padding: 10px 0;
            border-bottom: 1px solid #E5E7EB;
        }

        .backup-item:last-child {
            border-bottom: none;
        }

        .backup-label {
            font-weight: 600;
            color: #374151;
        }

        .backup-value {
            color: #6B7280;
        }

        .backup-actions,
        .maintenance-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .log-controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .form-select {
            padding: 8px 12px;
            border: 1px solid #D1D5DB;
            border-radius: 8px;
            background: white;
            color: #374151;
            font-size: 14px;
        }

        .logs-container {
            max-height: 300px;
            overflow-y: auto;
            background: #1F2937;
            border-radius: 8px;
            padding: 15px;
            font-family: 'Courier New', monospace;
        }

        .log-entry {
            display: flex;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 13px;
        }

        .log-time {
            color: #9CA3AF;
            min-width: 150px;
        }

        .log-level {
            min-width: 80px;
            font-weight: bold;
        }

        .log-entry.error .log-level {
            color: #EF4444;
        }

        .log-entry.warning .log-level {
            color: #F59E0B;
        }

        .log-entry.info .log-level {
            color: #10B981;
        }

        .log-message {
            color: #D1D5DB;
            flex: 1;
        }

        .integrations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .integration-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 20px;
            background: #F8FAFC;
            border-radius: 10px;
            border: 1px solid #E5E7EB;
        }

        .integration-item.active {
            border-left: 4px solid #10B981;
        }

        .integration-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #6B7280 0%, #4B5563 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
        }

        .integration-item.active .integration-icon {
            background: linear-gradient(135deg, #10B981 0%, #059669 100%);
        }

        .integration-info {
            flex: 1;
        }

        .integration-info h4 {
            font-size: 16px;
            font-weight: 600;
            color: #1F2937;
            margin-bottom: 5px;
        }

        .integration-info p {
            font-size: 14px;
            color: #6B7280;
        }

        .integration-actions .btn {
            padding: 6px 12px;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }

            .setting-item {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }

            .backup-item {
                flex-direction: column;
                gap: 5px;
                text-align: center;
            }

            .log-controls {
                flex-direction: column;
                align-items: stretch;
            }

            .integrations-grid {
                grid-template-columns: 1fr;
            }

            .integration-item {
                flex-direction: column;
                text-align: center;
            }
        }
    </style>
</body>
</html>

